extends /layouts/application.pug

block title
  - const title = `Tasks`;

block content
  if isSignedIn()
    a.btn.btn-primary.mb-3(role="button" href=urlFor('newTask') rel='nofollow') Create task
  table.table.table-hover.shadow-sm
    thead.thead-light
      tr
        th ID
        th Task
        th Status
        th Creator
        th Assigned to
        th Tags
        th Created
    tbody
      each task in tasks
        tr
          td.align-middle= task.id
          td.align-middle
            a(href=urlFor('showTask', { id: task.id }))= task.name
          td.align-middle= task.taskStatus.name
          td.align-middle
            a(href=urlFor('showUser', { id: task.creator.id }))= task.creator.fullName
          td.align-middle
            if(task.assignedTo !== null)
              a(href=urlFor('showUser', { id: task.assignedTo.id }))= task.assignedTo.fullName
          td.align-middle Test
          td.align-middle= formatDate(new Date(task.createdAt), 'HH:mm DD.MM.YYYY')
